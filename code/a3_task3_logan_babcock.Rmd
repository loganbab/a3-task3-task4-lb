---
title: "a3_task3_logan_babcock"
author: "Logan Babcock"
date: "October 26, 2021"
output: html_document
---

### Introduction 
This R makrdown document tracks the analysis of urchins data. 

*Data Citation:* Reed, D. 2020. SBC LTER: Reef: Long-term experiment: Kelp removal: Urchin size frequency distribution ver 20. Environmental Data Initiative. https://doi.org/10.6073/pasta/5a1e9ef03aa47bd2225c0bb98a02a63b

```{r setup, include=FALSE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

# attach packages
library(tidyverse)
library(lubridate)
library(here)
library(janitor)
library(kableExtra)
library(effsize)

# read in the data
urchins <- read_csv(here("data", "urchins.csv"))

# cleaning the data

urchins_clean <- clean_names(urchins)

```

### Section 1: Size comparisons of purple and red urchins
This section compares the sizes of the purple and red urchins, using data from all sites and all treatments. Figure 1 is a histogram visualizing the differences in urchin size distribution based on species.
```{r}
# creating a faceted histogram
ggplot(data = urchins_clean, aes(x = size)) + # histograms only need one axis
  geom_histogram(bins = 15) + # making the bin size smaller to better show the data
  facet_wrap(~ common_name) + # separating the data by urchin type
  labs(x = "Urchin diameter (cm)", #adding x and y axis labels
       y = "Urchin count", # adding figure title
       title = "Urchin size distribution by species (Babcock)",
       caption = "Figure 1: Histogram showing the distribution of Urchin size measured by diameter in cm. Shown for both purple and red urchin species.") + # adding figure caption
  theme_minimal() 
  
```

```{r}
# creating a summary statistics table

urchins_summary <- urchins_clean %>% # start with urchins data
  group_by(common_name) %>% # group by species 
  summarize(sd(size), mean(size), median(size), n())  # summary table values wanted

  
# cleaning up the table by renaming the columns

urchins_table <- urchins_summary %>%
  rename("Species" = common_name, 
         "Standard Deviation" = "sd(size)",
         "Mean Size (cm)" = "mean(size)",
         "Median Size (cm)" = "median(size)", 
         "Count" = "n()")

# making a presentable table with limited significant figures

kable(urchins_table, caption = "Table 1: Urchin size statistics by species", digits = 2, align = "c")

4.47-6.78


```

The figure and table above help visualize the distribution of size between the two speices of urchin. The red urchins tend to be larger than the purple urchins, as shown by the larger mean and larger median value. A higher percent of the Purple urchins are below 5cm, where the population of Red urchins are more spread out with a majority around 6cm, as seen in Figure 1. The purple urchin's are on average 2.31 cm smaller than the red urchins, which is a 65% difference. 











